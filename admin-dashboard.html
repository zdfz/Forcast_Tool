<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Admin Dashboard</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="assets/css/styles.css">
	</head>
	<body>
		<div id="navbar-container"></div>
		<main class="container py-3">
			<div class="d-flex justify-content-between align-items-center mb-3">
				<h1 class="h4 page-header" id="dashboardTitle">Global Forecast Dashboard</h1>
				<div class="d-flex gap-2">
					<select id="customerFilter" class="form-select" style="min-width:260px;"></select>
					<button class="btn btn-outline-primary" id="downloadPdfBtn">Download PDF</button>
				</div>
			</div>

			<div id="dashboard-container">
				<ul class="nav nav-tabs" id="dashTabs" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active" id="charts-tab" data-bs-toggle="tab" data-bs-target="#charts" type="button" role="tab">Charts</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link" id="data-tab" data-bs-toggle="tab" data-bs-target="#data" type="button" role="tab">Data</button>
					</li>
				</ul>
				<div class="tab-content" id="dashTabsContent">
					<div class="tab-pane fade show active" id="charts" role="tabpanel">
						<div class="row g-3">
							<div class="col-md-6">
								<div class="card"><div class="card-body"><h6>Total Expected Monthly Shipments</h6><canvas id="chartShipments"></canvas></div></div>
							</div>
							<div class="col-md-6">
								<div class="card"><div class="card-body"><h6>Total Expected Monthly Invoice Value</h6><canvas id="chartInvoice"></canvas></div></div>
							</div>
							<div class="col-md-6">
								<div class="card"><div class="card-body"><h6>Average Service Mix</h6><canvas id="chartService"></canvas></div></div>
							</div>
							<div class="col-md-6">
								<div class="card"><div class="card-body"><h6>Average COD/PPD Split</h6><canvas id="chartCod"></canvas></div></div>
							</div>
						</div>
					</div>
					<div class="tab-pane fade" id="data" role="tabpanel">
						<div class="table-responsive">
							<table class="table table-sm align-middle" id="submissionsTable">
								<thead>
									<tr>
										<th>Created</th>
										<th>Company</th>
										<th>Wk Ship</th>
										<th>Wk Out</th>
										<th>Wk In</th>
										<th>COD %</th>
										<th>COD Î”%</th>
										<th>Tier1</th>
										<th>Tier2</th>
										<th>Tier3</th>
										<th>H&B</th>
										<th>Int</th>
										<th>Parcel</th>
										<th>Notes</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tbody></tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</main>

		<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
		<script src="assets/js/supabaseClient.js"></script>
		<script src="assets/js/navbar.js"></script>
		<script src="assets/js/dashboard.js"></script>
		<script>
			mountNavbar('dashboard');
		</script>
	</body>
</html>
